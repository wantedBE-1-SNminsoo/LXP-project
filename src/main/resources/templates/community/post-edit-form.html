<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <title>게시글 수정</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        body{margin:0;background:#020617;color:#e5e7eb;font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Apple SD Gothic Neo,Noto Sans KR,Arial}
        .container{max-width:800px;margin:40px auto;padding:0 20px}
        .card{background:#020617;border:1px solid #1f2937;border-radius:16px;padding:24px 20px;box-shadow:0 10px 30px rgba(0,0,0,.5)}
        h1{font-size:24px;margin-bottom:8px}
        .sub{color:#9ca3af;font-size:14px;margin-bottom:24px}
        label{display:block;font-size:14px;margin:14px 0 6px}
        input[type="text"], textarea, select{
            width:100%;padding:10px 12px;border-radius:10px;border:1px solid #374151;
            background:#020617;color:#e5e7eb;font-size:14px;
        }
        textarea{min-height:200px;resize:vertical}
        .meta{font-size:12px;color:#9ca3af;margin-bottom:10px}
        .actions{margin-top:24px;display:flex;gap:10px}
        .btn{border-radius:10px;border:1px solid #4b5563;background:#111827;color:#e5e7eb;
            padding:10px 16px;font-size:14px;cursor:pointer;text-decoration:none;display:inline-flex;align-items:center;justify-content:center}
        .btn.primary{background:#4f46e5;border-color:#6366f1}
        .btn.primary:hover{background:#4338ca}
        .btn.secondary{background:#020617}
        .error{color:#fca5a5;font-size:12px;margin-top:4px}
    </style>
</head>
<body>
<div class="container">
    <div class="card">
        <h1>게시글 수정</h1>
        <p class="sub">작성한 게시글 내용을 수정합니다.</p>

        <div class="meta">
            글 번호: <span th:text="${postId}">1</span>
        </div>

        <form th:action="@{'/community/post/' + ${postId}}"
              th:object="${post}"
              method="post">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

            <!-- 제목 -->
            <label for="title">제목</label>
            <input id="title" type="text" th:field="*{title}" required/>
            <div class="error" th:if="${#fields.hasErrors('title')}"
                 th:errors="*{title}">제목 오류</div>

            <!-- 게시글 유형 -->
            <label for="postTypeId">게시글 유형</label>
            <select id="postTypeId" th:field="*{postTypeId}" required>
                <option value="">선택하세요</option>
                <option th:each="type : ${postTypes}"
                        th:value="${type.id}"
                        th:text="${type.name}">
                </option>
            </select>
            <div class="error" th:if="${#fields.hasErrors('postTypeId')}"
                 th:errors="*{postTypeId}">유형 오류</div>

            <!-- 내용 -->
            <label for="content">내용</label>
            <textarea id="content" th:field="*{content}" required></textarea>
            <div class="error" th:if="${#fields.hasErrors('content')}"
                 th:errors="*{content}">내용 오류</div>

            <div class="actions">
                <button class="btn primary" type="submit">수정 완료</button>
                <a class="btn secondary" th:href="@{/community/post}">목록으로</a>
            </div>
        </form>
    </div>
</div>
</body>
</html>
