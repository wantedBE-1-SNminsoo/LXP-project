# Pull Request 프로세스

## 개요
코드 품질 유지와 효과적인 협업을 위한 Pull Request(PR) 작성 및 리뷰 가이드입니다.

## PR 작성 가이드

### 1. PR 생성 전 체크리스트

- [ ] 최신 main/develop 브랜치와 동기화 완료
- [ ] 로컬에서 테스트 통과 확인
- [ ] 린터/포맷터 적용 완료(현재는 Linter/Formatter 미채택)
- [ ] 불필요한 주석, 디버깅 코드 제거
- [ ] 커밋 메시지 컨벤션 준수

### 2. PR 제목

PR 제목은 커밋 컨벤션과 동일한 형식을 따릅니다:

```
<type>(<scope>): <간단한 설명>
```

**예시:**
- `feat(course): 코스 생성 및 수정 기능 구현`
- `fix(enrollment): 중복 수강 신청 방지`
- `refactor(payment): 결제 모듈 구조 개선`

### 3. PR 설명 템플릿

```markdown
## 변경 사항
<!-- 무엇을 변경했는지 간단히 설명 -->

## 변경 이유
<!-- 왜 이 변경이 필요한지 설명 -->

## 주요 변경 내역
- 
- 
- 

## 테스트 방법
<!-- 어떻게 테스트했는지, 리뷰어가 어떻게 확인할 수 있는지 -->

## 관련 이슈
Closes #이슈번호
Related to #이슈번호

## 체크리스트
- [ ] Breaking Changes 명시 (해당하는 경우)
```

## 코드 리뷰 가이드

### 리뷰어 책임

1. **코드 품질 검토**
   - 코드가 읽기 쉽고 유지보수 가능한가?
   - 네이밍이 명확하고 일관성 있는가?
   - 불필요한 복잡도는 없는가?

2. **기능 검증**
   - 요구사항을 충족하는가?
   - 예외 상황 처리가 적절한가?
   - 보안 이슈는 없는가?

3. **아키텍처/설계**
   - 기존 구조와 일관성이 있는가?
   - 도메인 모델을 올바르게 사용하는가?
   - 의존성 관리가 적절한가?

### 리뷰 작성 가이드

**좋은 리뷰 예시:**
```
이 부분에서 null 체크가 필요할 것 같습니다.
사용자가 등록하지 않은 코스에 접근할 때 어떻게 처리되나요?

제안:
if (!enrollment) {
  throw new NotFoundException('수강 정보를 찾을 수 없습니다');
}
```

**피해야 할 리뷰:**
- "이상해요" (구체적이지 않음)
- "다시 해주세요" (이유 설명 없음)
- 너무 사소한 스타일 지적 (린터로 해결 가능한 것)

## PR 승인 및 머지 프로세스

### 승인 규칙

- **최소 리뷰어 수**: 2명 이상
- **자가 머지 금지**: 본인이 작성한 PR은 다른 팀원이 머지

### 머지 전 최종 체크

- [ ] 모든 리뷰 코멘트 해결
- [ ] 충돌(Conflict) 해결 완료
- [ ] 필요한 승인 개수 충족

### 머지 전략

**Squash and Merge**
- 여러 커밋을 하나로 합쳐서 머지
- 히스토리가 깔끔하게 유지됨
- 작은 기능 단위 PR에 적합

**Merge Commit**
- 모든 커밋 히스토리 보존
- 큰 기능이나 여러 작업이 포함된 PR에 적합

**Rebase and Merge**
- 선형 히스토리 유지
- 각 커밋이 의미 있는 경우 사용

## PR 크기 가이드

### 이상적인 PR

- **변경 라인**: 200-400줄 이하
- **리뷰 시간**: 30분 이내
- **파일 개수**: 10개 이하

## 주의사항

- **Force Push 금지**: 리뷰 중인 PR에 force push 하지 않기
- **대량 삭제 주의**: 기존 코드 대량 삭제 시 사전 논의 필요
- **Breaking Changes**: API 변경 등 breaking change는 명확히 표시
- **의존성 추가**: 새로운 라이브러리 추가 시 팀 논의 필요


## 참고 자료
- [Google Engineering Practices - Code Review](https://google.github.io/eng-practices/review/)
- [GitHub Pull Request Best Practices](https://github.com/features/code-review/)

